{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\2024\\\\Downloads\\\\donatenow-fullstack\\\\frontend\\\\src\\\\pages\\\\CauseDetail.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/CauseDetail.js\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport CreateStory from './CreateStory';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ConfettiSmallInline() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkmark\",\n      children: \"\\u2713\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 700\n        },\n        children: \"Goal Reached!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 13,\n          color: '#475569'\n        },\n        children: \"Thank you to all supporters.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this);\n}\n_c = ConfettiSmallInline;\nexport default function CauseDetail({\n  causeId,\n  onBack,\n  user\n}) {\n  _s();\n  const [data, setData] = useState(null);\n  const [processing, setProcessing] = useState(false);\n  const [showCreate, setShowCreate] = useState(false);\n  useEffect(() => {\n    if (causeId) load();\n  }, [causeId]);\n  async function load() {\n    try {\n      const r = await axios.get(`http://localhost:4000/api/causes/${causeId}`);\n      setData(r.data);\n    } catch (err) {\n      console.error(err);\n      setData(null);\n    }\n  }\n  async function donate(ev) {\n    ev.preventDefault();\n    const f = ev.target;\n    const name = f.name.value || 'Anonymous';\n    const amount = Number(f.amount.value);\n    const message = f.message.value;\n    const place = f.place && f.place.value ? f.place.value : null;\n    if (!amount || amount <= 0) return alert('Enter amount');\n    setProcessing(true);\n    try {\n      const token = localStorage.getItem('dn_token');\n      const headers = token ? {\n        Authorization: 'Bearer ' + token\n      } : {};\n      const res = await axios.post(`http://localhost:4000/api/causes/${causeId}/donate`, {\n        name,\n        amount,\n        message,\n        place\n      }, {\n        headers\n      });\n      if (res.data && res.data.goalReached) {\n        alert('Goal reached! You can now create a success story (if you are the creator).');\n      } else {\n        alert('Thank you for donating!');\n      }\n      load();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Donate error');\n    }\n    setProcessing(false);\n  }\n  async function handleDelete() {\n    if (!confirm('Delete this cause?')) return;\n    const token = localStorage.getItem('dn_token');\n    try {\n      await axios.delete(`http://localhost:4000/api/causes/${causeId}`, {\n        headers: {\n          Authorization: 'Bearer ' + token\n        }\n      });\n      alert('Deleted');\n      onBack && onBack();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      alert((err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Delete failed');\n    }\n  }\n  if (!data) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 20\n  }, this);\n  const {\n    cause,\n    donations\n  } = data;\n  const raised = Number(cause.raised_amount || 0);\n  const goal = Number(cause.goal_amount || 0);\n  const pct = goal > 0 ? Math.min(100, Math.round(raised / goal * 100)) : 0;\n  const isCreatorOrAdmin = user && (user.role === 'admin' || user.id === cause.creator_id);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onBack,\n      className: \"text-sm mb-4 text-indigo-700\",\n      children: \"\\u2190 Back to home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid md:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"md:col-span-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded shadow card-animate\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold\",\n            children: cause.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-gray-600\",\n            children: cause.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-semibold\",\n                children: [\"\\u20B9\", Math.round(raised)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Raised\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl text-green-600 font-semibold\",\n                children: [\"\\u20B9\", Math.round(goal)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Goal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-semibold\",\n                children: donations.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Supporters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-grad mt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: pct + '%',\n                background: 'linear-gradient(90deg,#34d399,#06b6d4)'\n              },\n              children: [pct, \"% Funded\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), pct >= 100 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-3 bg-green-50 rounded\",\n            children: /*#__PURE__*/_jsxDEV(ConfettiSmallInline, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-gray-500\",\n            children: [\"\\u20B9\", Math.round(goal - raised), \" needed to reach goal\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 mt-4 rounded shadow card-animate\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-center mb-3\",\n            children: \"Make a Difference Today\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: donate,\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm\",\n                children: \"Your name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"name\",\n                className: \"w-full border px-3 py-2 rounded\",\n                placeholder: \"Enter name or Anonymous\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm\",\n                children: \"Amount (INR)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"amount\",\n                type: \"number\",\n                min: \"1\",\n                required: true,\n                className: \"w-full border px-3 py-2 rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm\",\n                children: \"Place (city / area) \\u2014 optional\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"place\",\n                  id: \"donor_place\",\n                  className: \"w-full border px-3 py-2 rounded\",\n                  placeholder: \"e.g., Bangalore, India (optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: async () => {\n                    if (!navigator.geolocation) {\n                      alert('Geolocation not supported');\n                      return;\n                    }\n                    try {\n                      const p = await new Promise((res, rej) => navigator.geolocation.getCurrentPosition(res, rej, {\n                        timeout: 8000\n                      }));\n                      const val = p.coords.latitude.toFixed(5) + ',' + p.coords.longitude.toFixed(5);\n                      document.getElementById('donor_place').value = val;\n                    } catch (e) {\n                      alert('Unable to detect location');\n                    }\n                  },\n                  className: \"px-3 py-2 border rounded\",\n                  children: \"Detect\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm\",\n                children: \"Message (optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"message\",\n                rows: \"2\",\n                className: \"w-full border px-3 py-2 rounded\",\n                placeholder: \"Leave a message of support\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: processing,\n                type: \"submit\",\n                className: \"bg-indigo-600 text-white px-5 py-2 rounded\",\n                children: processing ? 'Processing...' : 'Donate Now'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-gray-500\",\n              children: \"Quick amounts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 justify-center mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => {\n                  e.preventDefault();\n                  e.target.closest('form').amount.value = 500;\n                },\n                className: \"px-3 py-1 border rounded\",\n                children: \"\\u20B9500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => {\n                  e.preventDefault();\n                  e.target.closest('form').amount.value = 1000;\n                },\n                className: \"px-3 py-1 border rounded\",\n                children: \"\\u20B91000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => {\n                  e.preventDefault();\n                  e.target.closest('form').amount.value = 2000;\n                },\n                className: \"px-3 py-1 border rounded\",\n                children: \"\\u20B92000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 mt-4 rounded shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold\",\n            children: \"Recent Donations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), donations.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"No donations yet \\u2014 be the first!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 39\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"mt-2 space-y-2\",\n            children: donations.map((d, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"border rounded p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: d.donor_name || 'Anonymous'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 59\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-gray-500\",\n                  children: new Date(d.timestamp).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 103\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u20B9\", Math.round(d.amount), \" \", d.message ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [\"\\u2014 \", d.message]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 63\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 21\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"font-semibold\",\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                navigator.clipboard.writeText(window.location.href);\n                alert('Link copied');\n              },\n              className: \"w-full py-2 rounded border\",\n              children: \"Copy Link\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), isCreatorOrAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleDelete,\n              className: \"w-full py-2 mt-3 bg-red-500 text-white rounded\",\n              children: \"Delete Cause\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 36\n            }, this), pct >= 100 && isCreatorOrAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowCreate(true),\n              className: \"w-full py-2 mt-3 bg-green-600 text-white rounded\",\n              children: \"Create Success Story\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 50\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), showCreate && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(CreateStory, {\n            causeId: causeId,\n            onDone: () => {\n              setShowCreate(false);\n              window.location.hash = '#/stories';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(CauseDetail, \"FdmK8GjuVuDjr01b9SJh6R1bWLQ=\");\n_c2 = CauseDetail;\nvar _c, _c2;\n$RefreshReg$(_c, \"ConfettiSmallInline\");\n$RefreshReg$(_c2, \"CauseDetail\");","map":{"version":3,"names":["React","useEffect","useState","axios","CreateStory","jsxDEV","_jsxDEV","ConfettiSmallInline","style","display","alignItems","gap","children","className","fileName","_jsxFileName","lineNumber","columnNumber","fontWeight","fontSize","color","_c","CauseDetail","causeId","onBack","user","_s","data","setData","processing","setProcessing","showCreate","setShowCreate","load","r","get","err","console","error","donate","ev","preventDefault","f","target","name","value","amount","Number","message","place","alert","token","localStorage","getItem","headers","Authorization","res","post","goalReached","_err$response","_err$response$data","response","handleDelete","confirm","delete","_err$response2","_err$response2$data","cause","donations","raised","raised_amount","goal","goal_amount","pct","Math","min","round","isCreatorOrAdmin","role","id","creator_id","onClick","title","description","length","width","background","onSubmit","placeholder","type","required","navigator","geolocation","p","Promise","rej","getCurrentPosition","timeout","val","coords","latitude","toFixed","longitude","document","getElementById","e","rows","disabled","closest","map","d","i","donor_name","Date","timestamp","toLocaleString","clipboard","writeText","window","location","href","onDone","hash","_c2","$RefreshReg$"],"sources":["C:/Users/2024/Downloads/donatenow-fullstack/frontend/src/pages/CauseDetail.js"],"sourcesContent":["// frontend/src/pages/CauseDetail.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport CreateStory from './CreateStory';\r\n\r\nfunction ConfettiSmallInline(){\r\n  return (\r\n    <div style={{display:'flex', alignItems:'center', gap:12}}>\r\n      <div className=\"checkmark\">✓</div>\r\n      <div>\r\n        <div style={{fontWeight:700}}>Goal Reached!</div>\r\n        <div style={{fontSize:13, color:'#475569'}}>Thank you to all supporters.</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function CauseDetail({ causeId, onBack, user }) {\r\n  const [data, setData] = useState(null);\r\n  const [processing, setProcessing] = useState(false);\r\n  const [showCreate, setShowCreate] = useState(false);\r\n\r\n  useEffect(()=> { if(causeId) load(); }, [causeId]);\r\n\r\n  async function load(){\r\n    try{\r\n      const r = await axios.get(`http://localhost:4000/api/causes/${causeId}`);\r\n      setData(r.data);\r\n    } catch(err){\r\n      console.error(err);\r\n      setData(null);\r\n    }\r\n  }\r\n\r\n  async function donate(ev){\r\n    ev.preventDefault();\r\n    const f = ev.target;\r\n    const name = f.name.value || 'Anonymous';\r\n    const amount = Number(f.amount.value);\r\n    const message = f.message.value;\r\n    const place = (f.place && f.place.value) ? f.place.value : null;\r\n\r\n    if(!amount || amount <= 0) return alert('Enter amount');\r\n    setProcessing(true);\r\n    try{\r\n      const token = localStorage.getItem('dn_token');\r\n      const headers = token ? { Authorization: 'Bearer '+token } : {};\r\n      const res = await axios.post(`http://localhost:4000/api/causes/${causeId}/donate`, { name, amount, message, place }, { headers });\r\n      if(res.data && res.data.goalReached){\r\n        alert('Goal reached! You can now create a success story (if you are the creator).');\r\n      } else {\r\n        alert('Thank you for donating!');\r\n      }\r\n      load();\r\n    }catch(err){ alert(err?.response?.data?.error || 'Donate error'); }\r\n    setProcessing(false);\r\n  }\r\n\r\n  async function handleDelete(){\r\n    if(!confirm('Delete this cause?')) return;\r\n    const token = localStorage.getItem('dn_token');\r\n    try{\r\n      await axios.delete(`http://localhost:4000/api/causes/${causeId}`, { headers: { Authorization: 'Bearer '+token }});\r\n      alert('Deleted');\r\n      onBack && onBack();\r\n    }catch(err){ alert(err?.response?.data?.error || 'Delete failed'); }\r\n  }\r\n\r\n  if(!data) return <div>Loading...</div>;\r\n  const { cause, donations } = data;\r\n  const raised = Number(cause.raised_amount || 0);\r\n  const goal = Number(cause.goal_amount || 0);\r\n  const pct = goal > 0 ? Math.min(100, Math.round((raised/goal)*100)) : 0;\r\n  const isCreatorOrAdmin = user && (user.role==='admin' || user.id === cause.creator_id);\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={onBack} className=\"text-sm mb-4 text-indigo-700\">← Back to home</button>\r\n\r\n      <div className=\"grid md:grid-cols-3 gap-6\">\r\n        <div className=\"md:col-span-2\">\r\n          <div className=\"bg-white p-6 rounded shadow card-animate\">\r\n            <h2 className=\"text-2xl font-bold\">{cause.title}</h2>\r\n            <p className=\"mt-2 text-gray-600\">{cause.description}</p>\r\n\r\n            <div className=\"mt-4 flex gap-4\">\r\n              <div>\r\n                <div className=\"text-2xl font-semibold\">₹{Math.round(raised)}</div>\r\n                <div className=\"text-sm text-gray-500\">Raised</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl text-green-600 font-semibold\">₹{Math.round(goal)}</div>\r\n                <div className=\"text-sm text-gray-500\">Goal</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-semibold\">{donations.length}</div>\r\n                <div className=\"text-sm text-gray-500\">Supporters</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"progress-grad mt-4\">\r\n              <div style={{width: pct+'%', background: 'linear-gradient(90deg,#34d399,#06b6d4)'}}>{pct}% Funded</div>\r\n            </div>\r\n\r\n            {pct >= 100 ? (\r\n              <div className=\"mt-4 p-3 bg-green-50 rounded\">\r\n                <ConfettiSmallInline />\r\n              </div>\r\n            ) : (\r\n              <p className=\"mt-2 text-gray-500\">₹{Math.round(goal-raised)} needed to reach goal</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"bg-white p-6 mt-4 rounded shadow card-animate\">\r\n            <h4 className=\"font-semibold text-center mb-3\">Make a Difference Today</h4>\r\n            <form onSubmit={donate} className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n              <div>\r\n\r\n                <label className=\"block text-sm\">Your name</label>\r\n                <input name=\"name\" className=\"w-full border px-3 py-2 rounded\" placeholder=\"Enter name or Anonymous\"/>\r\n                </div>\r\n\r\n                <div>\r\n                <label className=\"block text-sm\">Amount (INR)</label>\r\n                <input name=\"amount\" type=\"number\" min=\"1\" required className=\"w-full border px-3 py-2 rounded\"/>\r\n                </div>\r\n\r\n                <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm\">Place (city / area) — optional</label>\r\n                <div className=\"flex gap-2\">\r\n                    <input name=\"place\" id=\"donor_place\" className=\"w-full border px-3 py-2 rounded\" placeholder=\"e.g., Bangalore, India (optional)\" />\r\n                    <button type=\"button\" onClick={async ()=>{\r\n                    if(!navigator.geolocation){ alert('Geolocation not supported'); return; }\r\n                    try {\r\n                        const p = await new Promise((res, rej)=> navigator.geolocation.getCurrentPosition(res, rej, {timeout:8000}));\r\n                        const val = p.coords.latitude.toFixed(5)+','+p.coords.longitude.toFixed(5);\r\n                        document.getElementById('donor_place').value = val;\r\n                    } catch(e){ alert('Unable to detect location'); }\r\n                    }} className=\"px-3 py-2 border rounded\">Detect</button>\r\n                </div>\r\n                </div>\r\n\r\n              \r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm\">Message (optional)</label>\r\n                <textarea name=\"message\" rows=\"2\" className=\"w-full border px-3 py-2 rounded\" placeholder=\"Leave a message of support\"></textarea>\r\n              </div>\r\n\r\n              <div className=\"md:col-span-2 text-center\">\r\n                <button disabled={processing} type=\"submit\" className=\"bg-indigo-600 text-white px-5 py-2 rounded\">\r\n                  {processing ? 'Processing...' : 'Donate Now'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n\r\n            <div className=\"text-center mt-3\">\r\n              <small className=\"text-gray-500\">Quick amounts</small>\r\n              <div className=\"flex gap-2 justify-center mt-2\">\r\n                <button onClick={(e)=>{ e.preventDefault(); e.target.closest('form').amount.value = 500; }} className=\"px-3 py-1 border rounded\">₹500</button>\r\n                <button onClick={(e)=>{ e.preventDefault(); e.target.closest('form').amount.value = 1000; }} className=\"px-3 py-1 border rounded\">₹1000</button>\r\n                <button onClick={(e)=>{ e.preventDefault(); e.target.closest('form').amount.value = 2000; }} className=\"px-3 py-1 border rounded\">₹2000</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white p-4 mt-4 rounded shadow\">\r\n            <h4 className=\"font-semibold\">Recent Donations</h4>\r\n            {donations.length === 0 ? <p className=\"text-gray-500\">No donations yet — be the first!</p> :\r\n              <ul className=\"mt-2 space-y-2\">\r\n                {donations.map((d,i)=>(\r\n                  <li key={i} className=\"border rounded p-2\">\r\n                    <div className=\"flex justify-between\"><strong>{d.donor_name||'Anonymous'}</strong><small className=\"text-gray-500\">{new Date(d.timestamp).toLocaleString()}</small></div>\r\n                    <div>₹{Math.round(d.amount)} {d.message ? <span className=\"text-sm text-gray-600\">— {d.message}</span> : null}</div>\r\n                  </li>\r\n                ))}\r\n              </ul>}\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <div className=\"bg-white p-4 rounded shadow\">\r\n            <h5 className=\"font-semibold\">Actions</h5>\r\n            <div className=\"mt-3\">\r\n              <button onClick={()=>{ navigator.clipboard.writeText(window.location.href); alert('Link copied'); }} className=\"w-full py-2 rounded border\">Copy Link</button>\r\n              {isCreatorOrAdmin && <button onClick={handleDelete} className=\"w-full py-2 mt-3 bg-red-500 text-white rounded\">Delete Cause</button>}\r\n              {pct >= 100 && isCreatorOrAdmin && <button onClick={()=>setShowCreate(true)} className=\"w-full py-2 mt-3 bg-green-600 text-white rounded\">Create Success Story</button>}\r\n            </div>\r\n          </div>\r\n\r\n          {showCreate && <div className=\"mt-4\"><CreateStory causeId={causeId} onDone={()=>{ setShowCreate(false); window.location.hash='#/stories'; }} /></div>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}