{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\2024\\\\Downloads\\\\donatenow-fullstack\\\\frontend\\\\src\\\\pages\\\\Insights.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/Insights.js\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Bar } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Tooltip, Legend, Title } from 'chart.js';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Tooltip, Legend, Title);\n\n// default marker icon fix for leaflet + CRA\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\nexport default function Insights() {\n  _s();\n  const [summary, setSummary] = useState([]);\n  const [selectedCause, setSelectedCause] = useState(null);\n  const [transactions, setTransactions] = useState([]);\n  const [mapCenter, setMapCenter] = useState([20.5937, 78.9629]); // india center default\n  const [mapZoom, setMapZoom] = useState(5);\n  useEffect(() => {\n    loadSummary();\n  }, []);\n  async function loadSummary() {\n    try {\n      const s = await axios.get('http://localhost:4000/api/analytics/summary');\n      setSummary(s.data || []);\n    } catch (e) {\n      console.error(e);\n      setSummary([]);\n    }\n  }\n  async function onBarClick(evt, elements) {\n    if (!elements.length) return;\n    const idx = elements[0].index;\n    const cause = summary[idx];\n    if (!cause) return;\n    setSelectedCause(cause);\n    await loadTransactions(cause.id);\n  }\n  function exportCSV() {\n    if (!selectedCause) return alert('Select a cause first');\n    const rows = transactions.map(t => ({\n      donor: t.donor_name || t.user_name || 'Anonymous',\n      amount: t.amount,\n      message: t.message || '',\n      place: t.place || '',\n      timestamp: t.timestamp || t.createdAt || t.date\n    }));\n    const csv = [Object.keys(rows[0] || {}).join(','), ...rows.map(r => Object.values(r).map(v => `\"${String(v).replace(/\"/g, '\"\"')}\"`).join(','))].join('\\n');\n    const blob = new Blob([csv], {\n      type: 'text/csv'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${selectedCause.title.replace(/\\s+/g, '_')}_donors.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n  async function loadTransactions(causeId) {\n    try {\n      const r = await axios.get(`http://localhost:4000/api/causes/${causeId}/transactions`);\n      const txs = r.data || [];\n      setTransactions(txs);\n\n      // find first coordinate-looking place to center the map if present\n      const coord = txs.find(t => t.place && /^\\s*-?\\d+(\\.\\d+)?\\s*,\\s*-?\\d+(\\.\\d+)?\\s*$/.test(t.place));\n      if (coord) {\n        const parts = coord.place.split(',').map(p => parseFloat(p));\n        setMapCenter([parts[0], parts[1]]);\n        setMapZoom(6);\n      } else {\n        // fallback: keep default center / maybe use the cause's country if provided\n        setMapCenter([20.5937, 78.9629]);\n        setMapZoom(5);\n      }\n    } catch (err) {\n      console.error(err);\n      setTransactions([]);\n    }\n  }\n  const labels = summary.map(s => s.title);\n  const data = {\n    labels,\n    datasets: [{\n      label: 'Donations (INR)',\n      data: summary.map(s => s.total || 0),\n      backgroundColor: 'rgba(59,130,246,0.85)'\n    }]\n  };\n  const options = {\n    plugins: {\n      legend: {\n        display: false\n      },\n      title: {\n        display: true,\n        text: 'Donations per Cause'\n      }\n    },\n    onClick: (evt, elements) => {\n      onBarClick(evt, elements);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: \"Impact Insights\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow mb-4\",\n      children: /*#__PURE__*/_jsxDEV(Bar, {\n        data: data,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"font-semibold mb-2\",\n        children: [\"Donors for: \", selectedCause ? selectedCause.title : '— select a bar']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), selectedCause && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportCSV,\n        className: \"px-3 py-1 border rounded text-sm\",\n        children: \"Export CSV\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold mb-2\",\n          children: [\"Donors for: \", selectedCause ? selectedCause.title : '— select a bar']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), selectedCause ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: transactions.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"No transactions recorded for this cause.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 44\n          }, this) : /*#__PURE__*/_jsxDEV(\"ol\", {\n            className: \"list-decimal pl-5\",\n            children: transactions.map((t, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"mb-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: t.donor_name || t.user_name || 'Anonymous'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600\",\n                    children: [\"\\u20B9\", Math.round(t.amount), \" \\u2022 \", new Date(t.timestamp || t.createdAt || t.date).toLocaleString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 27\n                  }, this), t.message && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-1 text-sm\",\n                    children: t.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 41\n                  }, this), t.place && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-1 text-xs text-gray-500\",\n                    children: [\"Place: \", t.place]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 39\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: t.status || ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 23\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"Click any bar in the chart to view all donors for that cause.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold mb-2\",\n          children: \"Map View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: 360\n          },\n          children: /*#__PURE__*/_jsxDEV(MapContainer, {\n            center: mapCenter,\n            zoom: mapZoom,\n            style: {\n              height: '100%',\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n              attribution: \"\\xA9 OpenStreetMap contributors\",\n              url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), transactions.map((t, idx) => {\n              const p = t.place;\n              if (!p) return null;\n              // detect \"lat,lng\" pattern\n              const m = p.match(/^\\s*([-+]?\\d+(\\.\\d+)?)[\\s,]+([-+]?\\d+(\\.\\d+)?)\\s*$/);\n              if (!m) return null;\n              const lat = parseFloat(m[1]),\n                lng = parseFloat(m[3]);\n              return /*#__PURE__*/_jsxDEV(Marker, {\n                position: [lat, lng],\n                children: /*#__PURE__*/_jsxDEV(Popup, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: t.donor_name || 'Anonymous'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 152,\n                      columnNumber: 28\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [\"\\u20B9\", Math.round(t.amount)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 23\n                  }, this), t.message && /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: 12\n                    },\n                    children: t.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: 11\n                    },\n                    className: \"text-gray-500 mt-1\",\n                    children: new Date(t.timestamp || t.createdAt || t.date).toLocaleString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 21\n                }, this)\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n_s(Insights, \"EpPzc2F7+8gabX8FMDTzZomTxPM=\");\n_c = Insights;\nvar _c;\n$RefreshReg$(_c, \"Insights\");","map":{"version":3,"names":["React","useEffect","useState","axios","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Tooltip","Legend","Title","MapContainer","TileLayer","Marker","Popup","L","jsxDEV","_jsxDEV","register","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","Insights","_s","summary","setSummary","selectedCause","setSelectedCause","transactions","setTransactions","mapCenter","setMapCenter","mapZoom","setMapZoom","loadSummary","s","get","data","e","console","error","onBarClick","evt","elements","length","idx","index","cause","loadTransactions","id","exportCSV","alert","rows","map","t","donor","donor_name","user_name","amount","message","place","timestamp","createdAt","date","csv","Object","keys","join","r","values","v","String","replace","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","title","click","revokeObjectURL","causeId","txs","coord","find","test","parts","split","p","parseFloat","err","labels","datasets","label","total","backgroundColor","options","plugins","legend","display","text","onClick","children","className","fileName","_jsxFileName","lineNumber","columnNumber","style","justifyContent","alignItems","i","Math","round","Date","toLocaleString","status","height","center","zoom","width","attribution","m","match","lat","lng","position","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/2024/Downloads/donatenow-fullstack/frontend/src/pages/Insights.js"],"sourcesContent":["// frontend/src/pages/Insights.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Tooltip, Legend, Title } from 'chart.js';\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport L from 'leaflet';\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Tooltip, Legend, Title);\r\n\r\n// default marker icon fix for leaflet + CRA\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n});\r\n\r\nexport default function Insights(){\r\n  const [summary, setSummary] = useState([]);\r\n  const [selectedCause, setSelectedCause] = useState(null);\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [mapCenter, setMapCenter] = useState([20.5937,78.9629]); // india center default\r\n  const [mapZoom, setMapZoom] = useState(5);\r\n\r\n  useEffect(()=>{ loadSummary(); }, []);\r\n\r\n  async function loadSummary(){\r\n    try {\r\n      const s = await axios.get('http://localhost:4000/api/analytics/summary');\r\n      setSummary(s.data || []);\r\n    } catch(e){ console.error(e); setSummary([]); }\r\n  }\r\n\r\n  async function onBarClick(evt, elements){\r\n    if(!elements.length) return;\r\n    const idx = elements[0].index;\r\n    const cause = summary[idx];\r\n    if(!cause) return;\r\n    setSelectedCause(cause);\r\n    await loadTransactions(cause.id);\r\n  }\r\n  function exportCSV() {\r\n    if(!selectedCause) return alert('Select a cause first');\r\n    const rows = transactions.map(t => ({\r\n        donor: t.donor_name || t.user_name || 'Anonymous',\r\n        amount: t.amount,\r\n        message: t.message || '',\r\n        place: t.place || '',\r\n        timestamp: t.timestamp || t.createdAt || t.date\r\n    }));\r\n    const csv = [\r\n        Object.keys(rows[0] || {}).join(','),\r\n        ...rows.map(r => Object.values(r).map(v => `\"${String(v).replace(/\"/g,'\"\"')}\"`).join(','))\r\n    ].join('\\n');\r\n    const blob = new Blob([csv], { type: 'text/csv' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `${selectedCause.title.replace(/\\s+/g,'_')}_donors.csv`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n}\r\n\r\n\r\n  async function loadTransactions(causeId){\r\n    try {\r\n      const r = await axios.get(`http://localhost:4000/api/causes/${causeId}/transactions`);\r\n      const txs = r.data || [];\r\n      setTransactions(txs);\r\n\r\n      // find first coordinate-looking place to center the map if present\r\n      const coord = txs.find(t => t.place && /^\\s*-?\\d+(\\.\\d+)?\\s*,\\s*-?\\d+(\\.\\d+)?\\s*$/.test(t.place));\r\n      if(coord){\r\n        const parts = coord.place.split(',').map(p=>parseFloat(p));\r\n        setMapCenter([parts[0], parts[1]]);\r\n        setMapZoom(6);\r\n      } else {\r\n        // fallback: keep default center / maybe use the cause's country if provided\r\n        setMapCenter([20.5937,78.9629]);\r\n        setMapZoom(5);\r\n      }\r\n    } catch(err){ console.error(err); setTransactions([]); }\r\n  }\r\n\r\n  const labels = summary.map(s=>s.title);\r\n  const data = { labels, datasets: [{ label: 'Donations (INR)', data: summary.map(s=>s.total||0), backgroundColor: 'rgba(59,130,246,0.85)' }] };\r\n  const options = {\r\n    plugins: { legend:{ display:false }, title:{ display:true, text:'Donations per Cause' } },\r\n    onClick: (evt, elements) => { onBarClick(evt, elements); },\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-2xl font-semibold mb-4\">Impact Insights</h2>\r\n\r\n      <div className=\"bg-white p-4 rounded shadow mb-4\">\r\n        <Bar data={data} options={options} />\r\n      </div>\r\n      <div style={{display:'flex', justifyContent:'space-between', alignItems:'center'}}>\r\n        <h4 className=\"font-semibold mb-2\">Donors for: {selectedCause ? selectedCause.title : '— select a bar'}</h4>\r\n        {selectedCause && <button onClick={exportCSV} className=\"px-3 py-1 border rounded text-sm\">Export CSV</button>}\r\n      </div>\r\n\r\n\r\n      <div className=\"grid md:grid-cols-2 gap-4\">\r\n        <div className=\"bg-white p-4 rounded shadow\">  \r\n          <h4 className=\"font-semibold mb-2\">Donors for: {selectedCause ? selectedCause.title : '— select a bar'}</h4>\r\n          {selectedCause ? (\r\n            <div>\r\n              {transactions.length === 0 ? <p className=\"text-gray-500\">No transactions recorded for this cause.</p> : (\r\n                <ol className=\"list-decimal pl-5\">\r\n                  {transactions.map((t,i)=>(\r\n                    <li key={i} className=\"mb-2\">\r\n                      <div style={{display:'flex', justifyContent:'space-between'}}>\r\n                        <div>\r\n                          <strong>{t.donor_name || t.user_name || 'Anonymous'}</strong>\r\n                          <div className=\"text-sm text-gray-600\">₹{Math.round(t.amount)} • {new Date(t.timestamp || t.createdAt || t.date).toLocaleString()}</div>\r\n                          {t.message && <div className=\"mt-1 text-sm\">{t.message}</div>}\r\n                          {t.place && <div className=\"mt-1 text-xs text-gray-500\">Place: {t.place}</div>}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">{t.status || ''}</div>\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ol>\r\n              )}\r\n            </div>\r\n          ) : <p className=\"text-gray-500\">Click any bar in the chart to view all donors for that cause.</p>}\r\n        </div>\r\n\r\n        <div className=\"bg-white p-4 rounded shadow\">\r\n          <h4 className=\"font-semibold mb-2\">Map View</h4>\r\n          <div style={{height:360}}>\r\n            <MapContainer center={mapCenter} zoom={mapZoom} style={{height:'100%', width:'100%'}}>\r\n              <TileLayer\r\n                attribution='&copy; OpenStreetMap contributors'\r\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n              />\r\n              {/* Plot markers for transactions with coordinates (lat,lng) in `place` */}\r\n              {transactions.map((t, idx) => {\r\n                const p = t.place;\r\n                if(!p) return null;\r\n                // detect \"lat,lng\" pattern\r\n                const m = p.match(/^\\s*([-+]?\\d+(\\.\\d+)?)[\\s,]+([-+]?\\d+(\\.\\d+)?)\\s*$/);\r\n                if(!m) return null;\r\n                const lat = parseFloat(m[1]), lng = parseFloat(m[3]);\r\n                return (\r\n                  <Marker key={idx} position={[lat, lng]}>\r\n                    <Popup>\r\n                      <div><strong>{t.donor_name || 'Anonymous'}</strong></div>\r\n                      <div>₹{Math.round(t.amount)}</div>\r\n                      {t.message && <div style={{fontSize:12}}>{t.message}</div>}\r\n                      <div style={{fontSize:11}} className=\"text-gray-500 mt-1\">{new Date(t.timestamp || t.createdAt || t.date).toLocaleString()}</div>\r\n                    </Popup>\r\n                  </Marker>\r\n                );\r\n              })}\r\n            </MapContainer>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}